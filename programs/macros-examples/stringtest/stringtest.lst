     1                                  %MACRO STRING 2
     2                                       %strlen charcnt %2
     3                                           
     4                                       STRUC %1_STRING_STRUC
     5                                            .value:        resb      charcnt              ; the bytes in the string
     6                                            .size:         resq      1
     7                                            .Write:        resq      1
     8                                            .WriteLn:      resq      1
     9                                       ENDSTRUC
    10                                       
    11                                       [section .data]
    12                                       %1: ISTRUC %1_STRING_STRUC
    13                                            at  %1_STRING_STRUC.value,       db %2
    14                                            at  %1_STRING_STRUC.size,        dq charcnt
    15                                            at  %1_STRING_STRUC.Write,       dq write_string
    16                                            at  %1_STRING_STRUC.WriteLn,     dq writeln_string
    17                                       IEND
    18                                       
    19                                       %define   %1.address          %1+%1_STRING_STRUC.value                     ; the address where the string is stored
    20                                       %define   %1.size             QWORD[%1+%1_STRING_STRUC.size]               ; the value, not the address
    21                                       %define   %1.Write            QWORD[%1+%1_STRING_STRUC.Write]              ; the value, not the address
    22                                       %define   %1.WriteLn          QWORD[%1+%1_STRING_STRUC.WriteLn]            ; the value, not the address
    23                                  %ENDM
    24                                  
    25                                       ; for syscalls and stdout
   342                                       [list -]
   343                                       
   344                                  ; Translate C escapes inside a string. It's quite slow, though, so it
   345                                  ; has to be explicitly activated by defining CSTR.
   346                                  %macro dc_ 1
   347                                       section .data
   348                                       %strlen %%len %1
   349                                       %assign %%i 1
   350                                       %rep %%len
   351                                            %substr %%ch %1 %%i
   352                                            %if %%ch == '\'
   353                                                 %warning %substr
   354                                                 %assign %%i %%i + 1
   355                                                 %substr %%ch %1 %%i
   356                                                 %if %%ch == 'n'
   357                                                      db 13,10
   358                                                 %elif %%ch == 't'
   359                                                      db 9
   360                                                 %elif %%ch == 'b'
   361                                                      db 8
   362                                                 %elif %%ch == 'r'
   363                                                      db 13
   364                                                 %if %%ch == 'l'
   365                                                      db 10
   366                                                 %elif %%ch == 'e'
   367                                                      db 27
   368                                                 %elif %%ch == 'a'
   369                                                      db 7
   370                                                 %elif %%ch == '0'
   371                                                      db 0
   372                                                 %else
   373                                                      db %%ch
   374                                                 %endif
   375                                                 %assign %%i %%i + 1
   376                                                 %if %%i > %%len
   377                                                      %exitrep
   378                                                 %endif
   379                                            %endif
   380                                            %endif
   381                                       %endrep
   382                                  %endm
   383                                       
   384                                  BITS 64
   385                                  
   386                                  section .bss
   387                                  
   388                                  section .data
   389                                      
   390                                      dc_ "hello world \n"
   391                              <1>  section .data
   392                              <1>  %strlen %%len %1
   393                              <1>  %assign %%i 1
   394                              <1>  %rep %%len
   395                              <1>  %substr %%ch %1 %%i
   396                              <1>  %if %%ch == '\'
   397                              <1>  %warning %substr
   398                              <1>  %assign %%i %%i + 1
   399                              <1>  %substr %%ch %1 %%i
   400                              <1>  %if %%ch == 'n'
   401                              <1>  db 13,10
   402                              <1>  %elif %%ch == 't'
   403                              <1>  db 9
   404                              <1>  %elif %%ch == 'b'
   405                              <1>  db 8
   406                              <1>  %elif %%ch == 'r'
   407                              <1>  db 13
   408                              <1>  %if %%ch == 'l'
   409                              <1>  db 10
   410                              <1>  %elif %%ch == 'e'
   411                              <1>  db 27
   412                              <1>  %elif %%ch == 'a'
   413                              <1>  db 7
   414                              <1>  %elif %%ch == '0'
   415                              <1>  db 0
   416                              <1>  %else
   417                              <1>  db %%ch
   418                              <1>  %endif
   419                              <1>  %assign %%i %%i + 1
   420                              <1>  %if %%i > %%len
   421                              <1>  %exitrep
   422                              <1>  %endif
   423                              <1>  %endif
   424                              <1>  %endif
   425                              <1>  %endrep
   426                              <2>  %substr %%ch %1 %%i
   427                              <2>  %if %%ch == '\'
   428                              <2>  %warning %substr
   429                              <2>  %assign %%i %%i + 1
   430                              <2>  %substr %%ch %1 %%i
   431                              <2>  %if %%ch == 'n'
   432                              <2>  db 13,10
   433                              <2>  %elif %%ch == 't'
   434                              <2>  db 9
   435                              <2>  %elif %%ch == 'b'
   436                              <2>  db 8
   437                              <2>  %elif %%ch == 'r'
   438                              <2>  db 13
   439                              <2>  %if %%ch == 'l'
   440                              <2>  db 10
   441                              <2>  %elif %%ch == 'e'
   442                              <2>  db 27
   443                              <2>  %elif %%ch == 'a'
   444                              <2>  db 7
   445                              <2>  %elif %%ch == '0'
   446                              <2>  db 0
   447                              <2>  %else
   448                              <2>  db %%ch
   449                              <2>  %endif
   450                              <2>  %assign %%i %%i + 1
   451                              <2>  %if %%i > %%len
   452                              <2>  %exitrep
   453                              <2>  %endif
   454                              <2>  %endif
   455                              <2>  %endif
   456                              <2>  %substr %%ch %1 %%i
   457                              <2>  %if %%ch == '\'
   458                              <2>  %warning %substr
   459                              <2>  %assign %%i %%i + 1
   460                              <2>  %substr %%ch %1 %%i
   461                              <2>  %if %%ch == 'n'
   462                              <2>  db 13,10
   463                              <2>  %elif %%ch == 't'
   464                              <2>  db 9
   465                              <2>  %elif %%ch == 'b'
   466                              <2>  db 8
   467                              <2>  %elif %%ch == 'r'
   468                              <2>  db 13
   469                              <2>  %if %%ch == 'l'
   470                              <2>  db 10
   471                              <2>  %elif %%ch == 'e'
   472                              <2>  db 27
   473                              <2>  %elif %%ch == 'a'
   474                              <2>  db 7
   475                              <2>  %elif %%ch == '0'
   476                              <2>  db 0
   477                              <2>  %else
   478                              <2>  db %%ch
   479                              <2>  %endif
   480                              <2>  %assign %%i %%i + 1
   481                              <2>  %if %%i > %%len
   482                              <2>  %exitrep
   483                              <2>  %endif
   484                              <2>  %endif
   485                              <2>  %endif
   486                              <2>  %substr %%ch %1 %%i
   487                              <2>  %if %%ch == '\'
   488                              <2>  %warning %substr
   489                              <2>  %assign %%i %%i + 1
   490                              <2>  %substr %%ch %1 %%i
   491                              <2>  %if %%ch == 'n'
   492                              <2>  db 13,10
   493                              <2>  %elif %%ch == 't'
   494                              <2>  db 9
   495                              <2>  %elif %%ch == 'b'
   496                              <2>  db 8
   497                              <2>  %elif %%ch == 'r'
   498                              <2>  db 13
   499                              <2>  %if %%ch == 'l'
   500                              <2>  db 10
   501                              <2>  %elif %%ch == 'e'
   502                              <2>  db 27
   503                              <2>  %elif %%ch == 'a'
   504                              <2>  db 7
   505                              <2>  %elif %%ch == '0'
   506                              <2>  db 0
   507                              <2>  %else
   508                              <2>  db %%ch
   509                              <2>  %endif
   510                              <2>  %assign %%i %%i + 1
   511                              <2>  %if %%i > %%len
   512                              <2>  %exitrep
   513                              <2>  %endif
   514                              <2>  %endif
   515                              <2>  %endif
   516                              <2>  %substr %%ch %1 %%i
   517                              <2>  %if %%ch == '\'
   518                              <2>  %warning %substr
   519                              <2>  %assign %%i %%i + 1
   520                              <2>  %substr %%ch %1 %%i
   521                              <2>  %if %%ch == 'n'
   522                              <2>  db 13,10
   523                              <2>  %elif %%ch == 't'
   524                              <2>  db 9
   525                              <2>  %elif %%ch == 'b'
   526                              <2>  db 8
   527                              <2>  %elif %%ch == 'r'
   528                              <2>  db 13
   529                              <2>  %if %%ch == 'l'
   530                              <2>  db 10
   531                              <2>  %elif %%ch == 'e'
   532                              <2>  db 27
   533                              <2>  %elif %%ch == 'a'
   534                              <2>  db 7
   535                              <2>  %elif %%ch == '0'
   536                              <2>  db 0
   537                              <2>  %else
   538                              <2>  db %%ch
   539                              <2>  %endif
   540                              <2>  %assign %%i %%i + 1
   541                              <2>  %if %%i > %%len
   542                              <2>  %exitrep
   543                              <2>  %endif
   544                              <2>  %endif
   545                              <2>  %endif
   546                              <2>  %substr %%ch %1 %%i
   547                              <2>  %if %%ch == '\'
   548                              <2>  %warning %substr
   549                              <2>  %assign %%i %%i + 1
   550                              <2>  %substr %%ch %1 %%i
   551                              <2>  %if %%ch == 'n'
   552                              <2>  db 13,10
   553                              <2>  %elif %%ch == 't'
   554                              <2>  db 9
   555                              <2>  %elif %%ch == 'b'
   556                              <2>  db 8
   557                              <2>  %elif %%ch == 'r'
   558                              <2>  db 13
   559                              <2>  %if %%ch == 'l'
   560                              <2>  db 10
   561                              <2>  %elif %%ch == 'e'
   562                              <2>  db 27
   563                              <2>  %elif %%ch == 'a'
   564                              <2>  db 7
   565                              <2>  %elif %%ch == '0'
   566                              <2>  db 0
   567                              <2>  %else
   568                              <2>  db %%ch
   569                              <2>  %endif
   570                              <2>  %assign %%i %%i + 1
   571                              <2>  %if %%i > %%len
   572                              <2>  %exitrep
   573                              <2>  %endif
   574                              <2>  %endif
   575                              <2>  %endif
   576                              <2>  %substr %%ch %1 %%i
   577                              <2>  %if %%ch == '\'
   578                              <2>  %warning %substr
   579                              <2>  %assign %%i %%i + 1
   580                              <2>  %substr %%ch %1 %%i
   581                              <2>  %if %%ch == 'n'
   582                              <2>  db 13,10
   583                              <2>  %elif %%ch == 't'
   584                              <2>  db 9
   585                              <2>  %elif %%ch == 'b'
   586                              <2>  db 8
   587                              <2>  %elif %%ch == 'r'
   588                              <2>  db 13
   589                              <2>  %if %%ch == 'l'
   590                              <2>  db 10
   591                              <2>  %elif %%ch == 'e'
   592                              <2>  db 27
   593                              <2>  %elif %%ch == 'a'
   594                              <2>  db 7
   595                              <2>  %elif %%ch == '0'
   596                              <2>  db 0
   597                              <2>  %else
   598                              <2>  db %%ch
   599                              <2>  %endif
   600                              <2>  %assign %%i %%i + 1
   601                              <2>  %if %%i > %%len
   602                              <2>  %exitrep
   603                              <2>  %endif
   604                              <2>  %endif
   605                              <2>  %endif
   606                              <2>  %substr %%ch %1 %%i
   607                              <2>  %if %%ch == '\'
   608                              <2>  %warning %substr
   609                              <2>  %assign %%i %%i + 1
   610                              <2>  %substr %%ch %1 %%i
   611                              <2>  %if %%ch == 'n'
   612                              <2>  db 13,10
   613                              <2>  %elif %%ch == 't'
   614                              <2>  db 9
   615                              <2>  %elif %%ch == 'b'
   616                              <2>  db 8
   617                              <2>  %elif %%ch == 'r'
   618                              <2>  db 13
   619                              <2>  %if %%ch == 'l'
   620                              <2>  db 10
   621                              <2>  %elif %%ch == 'e'
   622                              <2>  db 27
   623                              <2>  %elif %%ch == 'a'
   624                              <2>  db 7
   625                              <2>  %elif %%ch == '0'
   626                              <2>  db 0
   627                              <2>  %else
   628                              <2>  db %%ch
   629                              <2>  %endif
   630                              <2>  %assign %%i %%i + 1
   631                              <2>  %if %%i > %%len
   632                              <2>  %exitrep
   633                              <2>  %endif
   634                              <2>  %endif
   635                              <2>  %endif
   636                              <2>  %substr %%ch %1 %%i
   637                              <2>  %if %%ch == '\'
   638                              <2>  %warning %substr
   639                              <2>  %assign %%i %%i + 1
   640                              <2>  %substr %%ch %1 %%i
   641                              <2>  %if %%ch == 'n'
   642                              <2>  db 13,10
   643                              <2>  %elif %%ch == 't'
   644                              <2>  db 9
   645                              <2>  %elif %%ch == 'b'
   646                              <2>  db 8
   647                              <2>  %elif %%ch == 'r'
   648                              <2>  db 13
   649                              <2>  %if %%ch == 'l'
   650                              <2>  db 10
   651                              <2>  %elif %%ch == 'e'
   652                              <2>  db 27
   653                              <2>  %elif %%ch == 'a'
   654                              <2>  db 7
   655                              <2>  %elif %%ch == '0'
   656                              <2>  db 0
   657                              <2>  %else
   658                              <2>  db %%ch
   659                              <2>  %endif
   660                              <2>  %assign %%i %%i + 1
   661                              <2>  %if %%i > %%len
   662                              <2>  %exitrep
   663                              <2>  %endif
   664                              <2>  %endif
   665                              <2>  %endif
   666                              <2>  %substr %%ch %1 %%i
   667                              <2>  %if %%ch == '\'
   668                              <2>  %warning %substr
   669                              <2>  %assign %%i %%i + 1
   670                              <2>  %substr %%ch %1 %%i
   671                              <2>  %if %%ch == 'n'
   672                              <2>  db 13,10
   673                              <2>  %elif %%ch == 't'
   674                              <2>  db 9
   675                              <2>  %elif %%ch == 'b'
   676                              <2>  db 8
   677                              <2>  %elif %%ch == 'r'
   678                              <2>  db 13
   679                              <2>  %if %%ch == 'l'
   680                              <2>  db 10
   681                              <2>  %elif %%ch == 'e'
   682                              <2>  db 27
   683                              <2>  %elif %%ch == 'a'
   684                              <2>  db 7
   685                              <2>  %elif %%ch == '0'
   686                              <2>  db 0
   687                              <2>  %else
   688                              <2>  db %%ch
   689                              <2>  %endif
   690                              <2>  %assign %%i %%i + 1
   691                              <2>  %if %%i > %%len
   692                              <2>  %exitrep
   693                              <2>  %endif
   694                              <2>  %endif
   695                              <2>  %endif
   696                              <2>  %substr %%ch %1 %%i
   697                              <2>  %if %%ch == '\'
   698                              <2>  %warning %substr
   699                              <2>  %assign %%i %%i + 1
   700                              <2>  %substr %%ch %1 %%i
   701                              <2>  %if %%ch == 'n'
   702                              <2>  db 13,10
   703                              <2>  %elif %%ch == 't'
   704                              <2>  db 9
   705                              <2>  %elif %%ch == 'b'
   706                              <2>  db 8
   707                              <2>  %elif %%ch == 'r'
   708                              <2>  db 13
   709                              <2>  %if %%ch == 'l'
   710                              <2>  db 10
   711                              <2>  %elif %%ch == 'e'
   712                              <2>  db 27
   713                              <2>  %elif %%ch == 'a'
   714                              <2>  db 7
   715                              <2>  %elif %%ch == '0'
   716                              <2>  db 0
   717                              <2>  %else
   718                              <2>  db %%ch
   719                              <2>  %endif
   720                              <2>  %assign %%i %%i + 1
   721                              <2>  %if %%i > %%len
   722                              <2>  %exitrep
   723                              <2>  %endif
   724                              <2>  %endif
   725                              <2>  %endif
   726                              <2>  %substr %%ch %1 %%i
   727                              <2>  %if %%ch == '\'
   728                              <2>  %warning %substr
   729                              <2>  %assign %%i %%i + 1
   730                              <2>  %substr %%ch %1 %%i
   731                              <2>  %if %%ch == 'n'
   732                              <2>  db 13,10
   733                              <2>  %elif %%ch == 't'
   734                              <2>  db 9
   735                              <2>  %elif %%ch == 'b'
   736                              <2>  db 8
   737                              <2>  %elif %%ch == 'r'
   738                              <2>  db 13
   739                              <2>  %if %%ch == 'l'
   740                              <2>  db 10
   741                              <2>  %elif %%ch == 'e'
   742                              <2>  db 27
   743                              <2>  %elif %%ch == 'a'
   744                              <2>  db 7
   745                              <2>  %elif %%ch == '0'
   746                              <2>  db 0
   747                              <2>  %else
   748                              <2>  db %%ch
   749                              <2>  %endif
   750                              <2>  %assign %%i %%i + 1
   751                              <2>  %if %%i > %%len
   752                              <2>  %exitrep
   753                              <2>  %endif
   754                              <2>  %endif
   755                              <2>  %endif
   756                              <2>  %substr %%ch %1 %%i
   757                              <2>  %if %%ch == '\'
   758                              <2>  %warning %substr
   759                              <2>  %assign %%i %%i + 1
   760                              <2>  %substr %%ch %1 %%i
   761                              <2>  %if %%ch == 'n'
   762                              <2>  db 13,10
   763                              <2>  %elif %%ch == 't'
   764                              <2>  db 9
   765                              <2>  %elif %%ch == 'b'
   766                              <2>  db 8
   767                              <2>  %elif %%ch == 'r'
   768                              <2>  db 13
   769                              <2>  %if %%ch == 'l'
   770                              <2>  db 10
   771                              <2>  %elif %%ch == 'e'
   772                              <2>  db 27
   773                              <2>  %elif %%ch == 'a'
   774                              <2>  db 7
   775                              <2>  %elif %%ch == '0'
   776                              <2>  db 0
   777                              <2>  %else
   778                              <2>  db %%ch
   779                              <2>  %endif
   780                              <2>  %assign %%i %%i + 1
   781                              <2>  %if %%i > %%len
   782                              <2>  %exitrep
   783                              <2>  %endif
   784                              <2>  %endif
   785                              <2>  %endif
   786                              <2>  %substr %%ch %1 %%i
   787                              <2>  %if %%ch == '\'
   788                              <2>  %warning %substr
   789                              <2>  %assign %%i %%i + 1
   790                              <2>  %substr %%ch %1 %%i
   791                              <2>  %if %%ch == 'n'
   792                              <2>  db 13,10
   793                              <2>  %elif %%ch == 't'
   794                              <2>  db 9
   795                              <2>  %elif %%ch == 'b'
   796                              <2>  db 8
   797                              <2>  %elif %%ch == 'r'
   798                              <2>  db 13
   799                              <2>  %if %%ch == 'l'
   800                              <2>  db 10
   801                              <2>  %elif %%ch == 'e'
   802                              <2>  db 27
   803                              <2>  %elif %%ch == 'a'
   804                              <2>  db 7
   805                              <2>  %elif %%ch == '0'
   806                              <2>  db 0
   807                              <2>  %else
   808                              <2>  db %%ch
   809                              <2>  %endif
   810                              <2>  %assign %%i %%i + 1
   811                              <2>  %if %%i > %%len
   812                              <2>  %exitrep
   813                              <2>  %endif
   814                              <2>  %endif
   815                              <2>  %endif
   816                              <2>  %substr %%ch %1 %%i
   817                              <2>  %if %%ch == '\'
   818                              <2>  %warning %substr
   819                              <2>  %assign %%i %%i + 1
   820                              <2>  %substr %%ch %1 %%i
   821                              <2>  %if %%ch == 'n'
   822                              <2>  db 13,10
   823                              <2>  %elif %%ch == 't'
   824                              <2>  db 9
   825                              <2>  %elif %%ch == 'b'
   826                              <2>  db 8
   827                              <2>  %elif %%ch == 'r'
   828                              <2>  db 13
   829                              <2>  %if %%ch == 'l'
   830                              <2>  db 10
   831                              <2>  %elif %%ch == 'e'
   832                              <2>  db 27
   833                              <2>  %elif %%ch == 'a'
   834                              <2>  db 7
   835                              <2>  %elif %%ch == '0'
   836                              <2>  db 0
   837                              <2>  %else
   838                              <2>  db %%ch
   839                              <2>  %endif
   840                              <2>  %assign %%i %%i + 1
   841                              <2>  %if %%i > %%len
   842                              <2>  %exitrep
   843                              <2>  %endif
   844                              <2>  %endif
   845                              <2>  %endif
   846                                      
   847                                      STRING    a,"This is the string you want to store"
   848                              <1>  %strlen charcnt %2
   849                              <1> 
   850                              <1>  STRUC %1_STRING_STRUC
   851 00000000 <res 00000024>      <1>  .value: resb charcnt
   852 00000024 <res 00000008>      <1>  .size: resq 1
   853 0000002C <res 00000008>      <1>  .Write: resq 1
   854 00000034 <res 00000008>      <1>  .WriteLn: resq 1
   855                              <1>  ENDSTRUC
   856                              <1> 
   857                              <1>  [section .data]
   858                              <1>  %1: ISTRUC %1_STRING_STRUC
   859 00000000 546869732069732074- <1>  at %1_STRING_STRUC.value, db %2
   860 00000009 686520737472696E67- <1>
   861 00000012 20796F752077616E74- <1>
   862 0000001B 20746F2073746F7265  <1>
   863 00000024 2400000000000000    <1>  at %1_STRING_STRUC.size, dq charcnt
   864 0000002C [5600000000000000]  <1>  at %1_STRING_STRUC.Write, dq write_string
   865 00000034 [3C00000000000000]  <1>  at %1_STRING_STRUC.WriteLn, dq writeln_string
   866                              <1>  IEND
   867                              <1> 
   868                              <1>  %define %1.address %1+%1_STRING_STRUC.value
   869                              <1>  %define %1.size QWORD[%1+%1_STRING_STRUC.size]
   870                              <1>  %define %1.Write QWORD[%1+%1_STRING_STRUC.Write]
   871                              <1>  %define %1.WriteLn QWORD[%1+%1_STRING_STRUC.WriteLn]
   872                                      STRING    b,{"and"}
   873                              <1>  %strlen charcnt %2
   874                              <1> 
   875                              <1>  STRUC %1_STRING_STRUC
   876 00000000 <res 00000003>      <1>  .value: resb charcnt
   877 00000003 <res 00000008>      <1>  .size: resq 1
   878 0000000B <res 00000008>      <1>  .Write: resq 1
   879 00000013 <res 00000008>      <1>  .WriteLn: resq 1
   880                              <1>  ENDSTRUC
   881                              <1> 
   882                              <1>  [section .data]
   883                              <1>  %1: ISTRUC %1_STRING_STRUC
   884 0000003C 616E64              <1>  at %1_STRING_STRUC.value, db %2
   885 0000003F 0300000000000000    <1>  at %1_STRING_STRUC.size, dq charcnt
   886 00000047 [5600000000000000]  <1>  at %1_STRING_STRUC.Write, dq write_string
   887 0000004F [3C00000000000000]  <1>  at %1_STRING_STRUC.WriteLn, dq writeln_string
   888                              <1>  IEND
   889                              <1> 
   890                              <1>  %define %1.address %1+%1_STRING_STRUC.value
   891                              <1>  %define %1.size QWORD[%1+%1_STRING_STRUC.size]
   892                              <1>  %define %1.Write QWORD[%1+%1_STRING_STRUC.Write]
   893                              <1>  %define %1.WriteLn QWORD[%1+%1_STRING_STRUC.WriteLn]
   894                                      
   895 00000057 0A                          linefeed:  db   10
   896                                      .length:   equ  $-linefeed
   897                                      
   898                                  section .text
   899                                      global _start
   900                                  _start:
   901                                         
   902 00000000 48BE-                       mov   rsi, a.address
   903 00000002 [0000000000000000] 
   904 0000000A 488B1425[24000000]          mov   rdx, a.size
   905 00000012 FF1425[34000000]            call  a.WriteLn
   906                                      
   907 00000019 48BE-                       mov   rsi, b.address
   908 0000001B [3C00000000000000] 
   909 00000023 488B1425[3F000000]          mov   rdx, b.size
   910 0000002B FF1425[4F000000]            call  b.WriteLn
   911                                        
   912 00000032 4831FF                      xor   rdi, rdi
   913 00000035 B83C000000                  mov   rax, SYS_EXIT
   914 0000003A 0F05                        syscall
   915                                  
   916                                  writeln_string:
   917 0000003C E815000000                   call      write_string
   918 00000041 48BE-                        mov       rsi, linefeed
   919 00000043 [5700000000000000] 
   920 0000004B BA01000000                   mov       rdx, linefeed.length
   921 00000050 E801000000                   call      write_string
   922 00000055 C3                           ret
   923                                       
   924                                  write_string:
   925 00000056 BF01000000                  mov   rdi, STDOUT
   926 0000005B B801000000                  mov   rax, SYS_WRITE
   927 00000060 0F05                        syscall
   928 00000062 C3                          ret
